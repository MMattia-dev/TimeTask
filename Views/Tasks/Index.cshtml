@model IEnumerable<TimeTask.Models.Task2>
@using Newtonsoft.Json

@{
    ViewData["Title"] = "Index";
}

<link rel="stylesheet" href="~/css/site_form.css" asp-append-version="true" />
<script src="~/lib/jquery/dist/jquery-ui.min.js"></script>


<div class="parent">
    <section class="left-nav">
        @Html.Partial("_Task")
    </section>
    <section class="right-nav p-0">
        <div class="grZWUijDhGWKyHd" style="opacity: 0;">
            
            <div class="GlpaymKnQLOGAOs">

                <div class="fSJtEaXwJSHzoxW"></div>

                @foreach (var item in ((IEnumerable<Workers2>)ViewBag.Workers).OrderBy(x => x.Surname).ThenBy(e => e.DepartmentID))
                {
                    <div class="wcHMgjWjXaRMPKy" worker="@item.Id" id="@item.DepartmentID" style="display: none;">
                        <div class="oKvcDSylPNSLgqr">
                            <span>@item.Surname @item.Name</span>
                            <span>
                                @{
                                    var row = ((IEnumerable<Department>)ViewBag.Departments).FirstOrDefault(e => e.Id == item.DepartmentID);
                                }
                                @row?.Name
                            </span>
                        </div>

                        @for(int i = 1; i <= 7; i++){
                            <div class="SBVWNWOJZnTplXL" onmouseover="szWBomtrGKAViBb(this, event)">
                                <div class="LwxRoYhfmyzTlGm" worker="@item.Id">
                                    <input type="time" onchange="HSuokUFEKzccQCK(this)" onblur="wgddAsHIsXNWQkl(this)" id="wgddAsHIsXNWQkl_" />
                                    <span>-</span>
                                    <input type="time" onchange="UrLQumgARjxLfGF(this)" onblur="YNXxUwIhBTDduDG(this)" id="YNXxUwIhBTDduDG_" />
      <!--wyłączone (nie usuwać)--> @* <div onclick="SnVgWOTEsLEUbKu(this)" class="kqOeanWDDXEYTBz" worker="@item.Id" title="Wybierz godziny"><svg viewBox="0 0 10 6" width="10" height="6"><path d="M0 0h10L5 6z"></path></svg></div> *@
                                    <div class="avnythFRVEkXnim" worker="@item.Id" style="display: none;"></div>
                                </div>
                                <div class="AQzCKqmlrQJmxzn">  
                                    @if (Model != null)
                                    {
                                        foreach (var item2 in Model)
                                        {
                                            if (item.Id == item2.WorkerID && item2.TaskNameID != null)
                                            {
                                                <div class="ZslufbFdcfCIeaW" id2="@item2.TaskNameID" id="@item2.Date?.ToString("yyyy-MM-dd")" style="display: none;">
                                                    @{
                                                        var taskName = ((IEnumerable<TaskName2>)ViewBag.TaskNames).FirstOrDefault(x => x.Id == item2.TaskNameID);
                                                    }
                                                    <span>@taskName?.Name</span>
                                                    <a onclick="mhzWFFdkOFYMLsP(this)" WghrTajUyfTSWFc="@item2.Id" title="Usuń zadanie"><svg viewBox="0 0 469.404 469.404" height="12" width="12"><path d="M310.4,235.083L459.88,85.527c12.545-12.546,12.545-32.972,0-45.671L429.433,9.409c-12.547-12.546-32.971-12.546-45.67,0L234.282,158.967L85.642,10.327c-12.546-12.546-32.972-12.546-45.67,0L9.524,40.774c-12.546,12.546-12.546,32.972,0,45.671l148.64,148.639L9.678,383.495c-12.546,12.546-12.546,32.971,0,45.67l30.447,30.447c12.546,12.546,32.972,12.546,45.67,0l148.487-148.41l148.792,148.793c12.547,12.546,32.973,12.546,45.67,0l30.447-30.447c12.547-12.546,12.547-32.972,0-45.671L310.4,235.083z"></path></svg></a>
                                                </div>
                                            }
                                        }
                                    }
                                </div>
                            </div>
                            <div class="lzfFwBKdGEtuYUv" style="display: none;">
                                <div class="lds-ring"><div></div><div></div><div></div><div></div></div>
                            </div>
                        }
                    </div>                   
                }
            </div>
        </div>
    </section>
</div> 

<div id="hJQarhdVtvVBOnk" class="pGKcZvErUB" style="display: none;">
    <form class="form">
        <div class="form-group">
            <input class="form-control" autocomplete="off" placeholder="nazwa zadania..." id="IluduaIgOUVOGRf" />
        </div>
        <div class="form-group form-group-margin">
            <select class="form-control bYwPpsleuVCBkPv" id="hdfoDuUOBPpvhSl">
                @foreach (var item in ((IEnumerable<Department>)ViewBag.Departments))
                {
                    <option value="@item.Id">@item.Name</option>
                }
                <option id="null">Wszyscy</option>
            </select>
        </div>
        <div class="form-group">
            <input type="button" value="Zapisz" class="btn-custom" onclick="zGWGBXreWGtGNcS()" />
        </div>
        <div class="form-group">
            <input type="button" value="Wróć" class="btn-custom_" onclick="rURQfWmsrmzXwCV()" />
        </div>
    </form>
</div>
<div id="HrjQZZqwQjnGRuC" class="pGKcZvErUB" style="display: none;">
    <form class="form">
        <div class="form-group form-group-margin">
            <input class="form-control" autocomplete="off" placeholder="nazwa zadania..." id="gPLPpoufGitmRJK" />
        </div>
        <div class="form-group form-group-margin" style="display: none;">
            <select class="form-control bYwPpsleuVCBkPv" id="rFaJKmZDlbnwiBP">
                @foreach (var item in ((IEnumerable<Department>)ViewBag.Departments))
                {
                    <option value="@item.Id">@item.Name</option>
                }
                <option id="0">Wszyscy</option>
            </select>
        </div>
        <div class="form-group">
            <input type="button" value="Zapisz" class="btn-custom" onclick="CaomIrxdWJchcOk()" />
        </div>
        <div class="form-group">
            <input type="button" value="Wróć" class="btn-custom_" onclick="wNvCTiOzGLwtsaX()" />
        </div>
    </form>
</div>
<div id="YUkuEpVsBmYTtjN" class="pGKcZvErUB" style="display: none;">
    <form class="form_2">
        <div class="IvBtEDulLESDYxK">
            <span id="cKSpcSCmKURLYSF"></span>
            <span>Spowoduje to usunięcie zadań z tą nazwą we wszystkich grafikach! Upewnij się, że wszystkie potrzebne grafiki zostały pobrane!</span>
        </div>
        <div class="btn-danger-div" id="eUkBfdkCVpxXxot">
            <input type="button" value="Usuń" id="ApFOgPcwItDNkKp" onclick="aDkOgungYCvMbHN()" />
        </div>
        <div class="form-group">
            <input type="button" value="Wróć" class="btn-custom_" onclick="spDekwIzyQklvGF()" />
        </div>
    </form>
</div>

<script type="text/javascript">
    
    var model_t = @Html.Raw(JsonConvert.SerializeObject(Model));
    var model_h = @Html.Raw(JsonConvert.SerializeObject(ViewBag.Holiday));
    var model_d = @Html.Raw(JsonConvert.SerializeObject(ViewBag.Departments));
    var model_task = @Html.Raw(JsonConvert.SerializeObject(ViewBag.TaskNames));
</script>

<script type="text/javascript" src="~/js/TaskJS.js"></script>
<script type="text/javascript" src="~/js/site.js"></script>