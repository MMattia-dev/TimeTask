@model IEnumerable<TimeTask.Models.Time>

@{
    ViewData["Title"] = "Index";
}

<link rel="stylesheet" href="~/css/site_form.css" asp-append-version="true" />

@*<h1>Index</h1>

<p>
    <a asp-action="Create">Create New</a>
</p>
<table class="table">
    <thead>
        <tr>
            <th>
                @Html.DisplayNameFor(model => model.WorkerID)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.Enter)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.Exit)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.LeaveID)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.LeaveDate)
            </th>
            <th></th>
        </tr>
    </thead>
    <tbody>
@foreach (var item in Model) {
        <tr>
            <td>
                @Html.DisplayFor(modelItem => item.WorkerID)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.Enter)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.Exit)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.LeaveID)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.LeaveDate)
            </td>
            <td>
                <a asp-action="Edit" asp-route-id="@item.Id">Edit</a> |
                <a asp-action="Details" asp-route-id="@item.Id">Details</a> |
                <a asp-action="Delete" asp-route-id="@item.Id">Delete</a>
            </td>
        </tr>
}
    </tbody>
</table>*@

<div class="parent">
    <section class="left-nav">
        @Html.Partial("_Settings");
    </section>
    <section class="right-nav">

        <div class="kxOMhDZFzkDb DZFzkDb">
            <div class="IVnxgCORpPYL" onclick="fwsxYepQKkCq()">
                <span>Dodaj nowy urlop</span>
            </div>
        </div>

        <div class="YUPrikbkYzkc">
            @*@foreach (var item in ((IEnumerable<Leave4>)ViewBag.Leave))
            {
                <div class="right-nav-parent2-div fQOipKjlgeboVkZ">
                    <div>
                        <span class="ZsrrdwFZwFrHgLz">@item.Name</span>
                        <span class="ZsrrdwFZwFrHgLz">@item.Description</span>
                        @if (item.Max != null)
                        {
                            <span class="wKEbxxtCIJSAepL">@item.Max</span>
                        }
                    </div>
                    <div>
                        <a onclick="EYwnRBQDFEHjzsN(this)" id="@item.Id" title="Edytuj"><svg viewBox="0 0 512 512" height="16" width="16"><path d="M494.56,55.774l-38.344-38.328c-23.253-23.262-60.965-23.253-84.226,0l-35.878,35.878l122.563,122.563		l35.886-35.878C517.814,116.747,517.814,79.044,494.56,55.774z"></path><polygon points="0,389.435 0,511.998 122.571,511.998 425.246,209.314 302.691,86.751 	"></polygon></svg></a>
                        <a onclick="hFUdwiFlMmxASVH(this)" id="@item.Id" title="Usuń"><svg viewBox="0 0 469.404 469.404" height="16" width="16"><path d="M310.4,235.083L459.88,85.527c12.545-12.546,12.545-32.972,0-45.671L429.433,9.409c-12.547-12.546-32.971-12.546-45.67,0L234.282,158.967L85.642,10.327c-12.546-12.546-32.972-12.546-45.67,0L9.524,40.774c-12.546,12.546-12.546,32.972,0,45.671l148.64,148.639L9.678,383.495c-12.546,12.546-12.546,32.971,0,45.67l30.447,30.447c12.546,12.546,32.972,12.546,45.67,0l148.487-148.41l148.792,148.793c12.547,12.546,32.973,12.546,45.67,0l30.447-30.447c12.547-12.546,12.547-32.972,0-45.671L310.4,235.083z"></path></svg></a>
                    </div>
                </div>
            }*@


        </div>

    </section>
</div>

<div id="GpoavnFwAOos" class="pGKcZvErUB" style="display: none;">
    <form class="form_">
        <div class="form-group">
            <input class="form-control" autocomplete="on" placeholder="nazwa urlopu..." id="oVxJeHhcExMV" />
        </div>
        <div class="form-group">
            <input class="form-control" autocomplete="off" placeholder="komentarz (opcjonalnie)..." id="kwYypucEEAnX" />
        </div>
        <div class="form-group">
            <input class="form-control dGNCykvGtQxbazH" type="number" onkeydown="UXOaovmCsnlURsn(this, event)" onkeypress="validate(this, event)" placeholder="maks. długość urlopu (opcjonalnie)..." id="IyWRFThVHhEX" />
            <div class="eshTOvdrdlbtIkg">
                <label class="flYuCaWkWLvKDYr"><input disabled name="radio" type="radio" />Dni</label>
                <label class="flYuCaWkWLvKDYr"><input disabled name="radio" type="radio" />Tygodnie</label>
                <label class="flYuCaWkWLvKDYr"><input disabled name="radio" type="radio" />Miesiące</label>
                <label class="flYuCaWkWLvKDYr"><input disabled name="radio" type="radio" />Lata</label>
            </div>
        </div>
        <div class="form-group form-group-margin">
            <div class="jwvLslukUqESfdP">
                <span class="flYuCaWkWLvKDYr">Uwzględnij:</span>
            </div>
            <div class="eshTOvdrdlbtIkg">
                <label class="flYuCaWkWLvKDYr"><input disabled type="checkbox" />Soboty i Niedzielę</label>
                <label class="flYuCaWkWLvKDYr"><input disabled type="checkbox" />Święta</label>
            </div>
        </div>
        @*<div class="form-group form-group-margin">
            <div class="slqxLxrESFgpZjA">
                <label class="flYuCaWkWLvKDYr"><input disabled type="checkbox" />Soboty i Niedzielę</label>
                <label class="flYuCaWkWLvKDYr"><input disabled type="checkbox" />Święta</label>
            </div>
        </div>*@
        <div class="form-group">
            <input type="button" value="Zapisz" class="btn-custom" onclick="BmJPiKFdcncS()" />
        </div>
        <div class="form-group">
            <input type="button" value="Wróć" class="btn-custom_" onclick="EjaqSVIBTCAu()" />
        </div>
    </form>
</div>

<script type="text/javascript">
    let selected = document.querySelectorAll('.IdRKPExyAQSewBL a')[3];
    selected.classList.add('settings_a_selected');


    function fwsxYepQKkCq()
    {
        let a = document.getElementById('GpoavnFwAOos');
        $(a).fadeIn(200);
    };

    function EjaqSVIBTCAu()
    {
        let a = document.getElementById('GpoavnFwAOos');
        $(a).fadeOut(200);
    };

    function validate(t, evt)
    {
        var theEvent = evt || window.event;

        // Handle paste
        if (theEvent.type === 'paste')
        {
            key = event.clipboardData.getData('text/plain');
        } else
        {
            // Handle key press
            var key = theEvent.keyCode || theEvent.which;
            key = String.fromCharCode(key);
        }
        var regex = /[0-9]|\./;
        if (!regex.test(key))
        {
            theEvent.returnValue = false;
            if (theEvent.preventDefault) theEvent.preventDefault();
        }

        
    };

    function UXOaovmCsnlURsn(t, evt) {
        //if (t.value.length > -1)
        //{
        //    let children = $(t).parent().children().eq(1).children();
        //    for (let i = 0; i < children.length; i++)
        //    {
        //        $(children[i]).removeClass('flYuCaWkWLvKDYr');
        //        $(children[i]).children().removeAttr('disabled');
        //    }
        //}
        //else 
        //{
        //    let children = $(t).parent().children().eq(1).children();
        //    for (let i = 0; i < children.length; i++)
        //    {
        //        $(children[i]).addClass('flYuCaWkWLvKDYr');
        //        $(children[i]).children().attr('disabled');
        //    }
        //}

        //if (t.value.length > -1)
        //{
        //    let children = $(t).parent().children().eq(1).children();
        //    for (let i = 0; i < children.length; i++)
        //    {
        //        $(children[i]).removeClass('flYuCaWkWLvKDYr');
        //        $(children[i]).children().removeAttr('disabled');
        //    }
        //}
        //else 
        //{

        //}

        //var key = evt.keyCode || evt.charCode;
        //if (key == 8 || key == 46)
        //{            
        //        let children = $(t).parent().children().eq(1).children();
        //        for (let i = 0; i < children.length; i++)
        //        {
        //            $(children[i]).addClass('flYuCaWkWLvKDYr');
        //            $(children[i]).children().attr('disabled', '');
        //        }
        //}
    };

    function BmJPiKFdcncS(){
        let name_ = document.getElementById('oVxJeHhcExMV').value;
        let description_ = document.getElementById('kwYypucEEAnX').value;
        let maxdays_ = document.getElementById('IyWRFThVHhEX').value;

        //$.ajax({
        //    type: 'POST',
        //    url: '/Leave4/AddLeave',
        //    data: {
        //        name: name_,
        //        description: description_,
        //        maxdays: maxdays_
        //    },
        //    success: function (response)
        //    {
        //        //let a = document.getElementById('GpoavnFwAOos');
        //        //$(a).fadeOut(200);
        //        location.reload();
        //    },
        //    error: function (xhr, status, error)
        //    {
        //        console.log('Error updating data:', error);
        //    }
        //});


    };



</script>